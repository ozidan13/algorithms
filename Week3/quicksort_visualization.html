<!DOCTYPE html>
<html lang="en" class="scroll-smooth" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuickSort | Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø³Ø±ÙŠØ¹</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&family=Inter:wght@400;600;800&family=Fira+Code:wght@400&display=swap"
        rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>tailwind.config = { theme: { extend: { colors: { neon: { green: '#10B981', blue: '#3B82F6', purple: '#8B5CF6', pink: '#EC4899' } }, fontFamily: { sans: ['Inter'], arabic: ['Cairo'], mono: ['Fira Code'] } } } }</script>
    <style>
        body {
            background: #020617;
            color: #E2E8F0;
            overflow-x: hidden
        }

        .glass-card {
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08)
        }

        .text-gradient {
            background: linear-gradient(135deg, #EC4899, #8B5CF6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent
        }

        .rtl-block {
            direction: rtl;
            text-align: right
        }

        .bar {
            display: flex;
            align-items: flex-end;
            justify-content: center;
            width: 35px;
            border-radius: 6px 6px 0 0;
            transition: all 0.3s;
            position: relative
        }

        .bar .val {
            position: absolute;
            top: -22px;
            color: #94a3b8;
            font-family: 'Fira Code';
            font-size: 0.75rem
        }

        .bar.pivot {
            background: linear-gradient(180deg, #EC4899, #BE185D);
            box-shadow: 0 0 20px rgba(236, 72, 153, 0.5)
        }

        .bar.comparing {
            background: linear-gradient(180deg, #F59E0B, #D97706)
        }

        .bar.swapping {
            background: linear-gradient(180deg, #EF4444, #DC2626);
            animation: shake 0.3s
        }

        .bar.sorted {
            background: linear-gradient(180deg, #10B981, #059669)
        }

        .bar.default {
            background: linear-gradient(180deg, #3B82F6, #1D4ED8)
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0)
            }

            25% {
                transform: translateX(-5px)
            }

            75% {
                transform: translateX(5px)
            }
        }
    </style>
</head>

<body>
    <nav class="fixed top-0 w-full z-50 glass-card">
        <div class="container mx-auto px-6 h-16 flex items-center justify-between">
            <a href="../index.html#week3" class="flex items-center gap-3">
                <div
                    class="w-8 h-8 rounded bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center text-white">
                    <i class="fas fa-arrow-left text-sm"></i></div><span class="font-bold">Quick<span
                        class="text-pink-500">Sort</span></span>
            </a>
        </div>
    </nav>

    <header class="relative pt-32 pb-16 px-6 overflow-hidden">
        <div class="absolute top-0 right-0 w-[500px] h-[500px] bg-pink-500/10 rounded-full blur-[128px]"></div>
        <div class="container mx-auto text-center relative z-10" data-aos="fade-up">
            <div
                class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-800/50 border border-slate-700 text-xs font-mono text-pink-400 mb-6">
                <span class="w-2 h-2 rounded-full bg-pink-500 animate-pulse"></span>WEEK 3</div>
            <h1 class="text-5xl md:text-6xl font-black mb-4"><span class="text-gradient">Quick</span>Sort</h1>
            <h2 class="text-2xl font-bold text-slate-400 font-arabic mb-6">Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø³Ø±ÙŠØ¹ - Divide & Conquer</h2>

            <div class="max-w-3xl mx-auto mb-10">
                <div class="p-5 bg-pink-950/30 border border-pink-900/50 rounded-2xl rtl-block">
                    <h3 class="text-xl font-bold text-pink-400 mb-3 font-arabic">âš¡ Ø¥Ø²Ø§ÙŠ QuickSort Ø¨ÙŠØ´ØªØºÙ„ØŸ</h3>
                    <p class="text-pink-100/90 font-arabic leading-loose">Ø§Ø®ØªØ§Ø± Ø¹Ù†ØµØ± <span
                            class="text-yellow-400">Pivot</span> ÙˆØ±ØªØ¨ Ø§Ù„Ø¨Ø§Ù‚ÙŠ: Ø§Ù„Ø£ØµØºØ± Ø´Ù…Ø§Ù„ ÙˆØ§Ù„Ø£ÙƒØ¨Ø± ÙŠÙ…ÙŠÙ†!</p>
                    <div class="grid grid-cols-3 gap-3 mt-4">
                        <div class="bg-slate-900/50 p-3 rounded-xl border border-pink-700 text-center">
                            <div class="text-2xl">ğŸ¯</div>
                            <div class="text-pink-400 font-bold text-sm">1. Ø§Ø®ØªØ§Ø± Pivot</div>
                        </div>
                        <div class="bg-slate-900/50 p-3 rounded-xl border border-yellow-700 text-center">
                            <div class="text-2xl">â†”ï¸</div>
                            <div class="text-yellow-400 font-bold text-sm">2. Partition</div>
                        </div>
                        <div class="bg-slate-900/50 p-3 rounded-xl border border-purple-700 text-center">
                            <div class="text-2xl">ğŸ”„</div>
                            <div class="text-purple-400 font-bold text-sm">3. Recurse</div>
                        </div>
                    </div>
                    <div class="mt-4 p-3 bg-purple-900/20 rounded-xl border border-purple-500/30">
                        <p class="text-purple-300 text-sm">ğŸ’¡ Average: <span class="text-white font-bold">O(n log
                                n)</span> - In-place: Ù…Ø´ Ù…Ø­ØªØ§Ø¬ Ø°Ø§ÙƒØ±Ø© Ø¥Ø¶Ø§ÙÙŠØ©!</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <section id="demo" class="py-16 px-6">
        <div class="container mx-auto max-w-4xl">
            <div class="glass-card p-6 rounded-2xl border border-slate-700/50" data-aos="fade-up">
                <div class="flex flex-wrap gap-3 mb-4 justify-center items-center">
                    <select id="pivot-strategy"
                        class="px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white text-sm">
                        <option value="last">Pivot: Last</option>
                        <option value="first">Pivot: First</option>
                        <option value="random">Pivot: Random</option>
                    </select>
                    <button id="random-btn"
                        class="px-4 py-2 bg-slate-700 text-white font-bold rounded-lg hover:bg-slate-600 transition text-sm"><i
                            class="fas fa-dice mr-1"></i>Random</button>
                    <button id="sort-btn"
                        class="px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-500 text-white font-bold rounded-lg hover:shadow-lg transition text-sm"><i
                            class="fas fa-play mr-1"></i>Sort</button>
                    <button id="step-btn"
                        class="px-4 py-2 bg-slate-700 text-white font-bold rounded-lg hover:bg-slate-600 transition text-sm"><i
                            class="fas fa-step-forward mr-1"></i>Step</button>
                    <button id="reset-btn"
                        class="px-4 py-2 bg-slate-700 text-white font-bold rounded-lg hover:bg-slate-600 transition text-sm"><i
                            class="fas fa-redo mr-1"></i>Reset</button>
                    <input type="range" id="speed" min="50" max="500" value="200" class="w-20 accent-pink-500">
                </div>
                <div class="flex gap-3 justify-center mb-3 text-xs">
                    <div class="flex items-center gap-1">
                        <div class="w-3 h-3 rounded bg-gradient-to-b from-pink-500 to-pink-700"></div><span
                            class="text-slate-400">Pivot</span>
                    </div>
                    <div class="flex items-center gap-1">
                        <div class="w-3 h-3 rounded bg-gradient-to-b from-yellow-500 to-yellow-700"></div><span
                            class="text-slate-400">Comparing</span>
                    </div>
                    <div class="flex items-center gap-1">
                        <div class="w-3 h-3 rounded bg-gradient-to-b from-emerald-500 to-emerald-700"></div><span
                            class="text-slate-400">Sorted</span>
                    </div>
                </div>
                <div id="bars"
                    class="flex items-end justify-center gap-1 min-h-[220px] p-4 bg-slate-900/50 rounded-xl border border-slate-800">
                </div>
                <div id="info" class="text-center p-3 bg-slate-900/50 rounded-xl border border-slate-800 mt-4">
                    <p class="text-slate-400">Click "Sort" to begin.</p>
                </div>
                <div id="log"
                    class="bg-slate-900/80 rounded-xl border border-slate-800 p-3 max-h-28 overflow-y-auto font-mono text-xs mt-4">
                    <p class="text-slate-500">Logs here.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="py-16 px-6 bg-slate-900/30">
        <div class="container mx-auto max-w-4xl">
            <h2 class="text-3xl font-bold text-center mb-8"><i
                    class="fa-solid fa-code text-pink-500 mr-2"></i>Implementation</h2>
            <div class="glass-card rounded-2xl overflow-hidden border border-slate-700/50">
                <div class="flex items-center gap-2 px-4 py-2 bg-slate-900 border-b border-slate-800"><span
                        class="w-3 h-3 rounded-full bg-red-500"></span><span
                        class="w-3 h-3 rounded-full bg-yellow-500"></span><span
                        class="w-3 h-3 rounded-full bg-green-500"></span><span
                        class="ml-3 font-mono text-xs text-slate-400">quickSort.js</span></div>
                <div class="grid md:grid-cols-2 divide-x divide-slate-800">
                    <pre class="p-4 bg-[#0B1221] overflow-x-auto text-xs"><code class="font-mono text-slate-300">function quickSort(arr, lo=0, hi=arr.length-1) {
  if (lo < hi) {
    const p = partition(arr, lo, hi);
    quickSort(arr, lo, p - 1);
    quickSort(arr, p + 1, hi);
  }
}

function partition(arr, lo, hi) {
  const pivot = arr[hi];
  let i = lo - 1;
  for (let j = lo; j < hi; j++) {
    if (arr[j] < pivot) {
      i++;
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
  }
  [arr[i+1], arr[hi]] = [arr[hi], arr[i+1]];
  return i + 1;
}</code></pre>
                    <div class="p-4 bg-slate-900/50 rtl-block">
                        <h4 class="font-bold text-white mb-3 font-arabic">Ø´Ø±Ø­ Ø§Ù„ÙƒÙˆØ¯ ğŸ“–</h4>
                        <div class="space-y-2 font-arabic text-xs">
                            <div class="p-2 bg-slate-800/50 rounded border-r-2 border-r-pink-500"><span
                                    class="text-pink-400 font-bold">quickSort:</span> Ù„Ùˆ ÙÙŠÙ‡ Ø¹Ù†Ø§ØµØ±ØŒ partition Ø«Ù… recurse
                            </div>
                            <div class="p-2 bg-slate-800/50 rounded border-r-2 border-r-yellow-500"><span
                                    class="text-yellow-400 font-bold">partition:</span> Ø§Ù„Ù€ pivot = Ø¢Ø®Ø± Ø¹Ù†ØµØ±ØŒ Ø¨Ø¯Ù‘Ù„
                                Ø§Ù„Ø£ØµØºØ± Ù…Ù†Ù‡</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="py-8 text-center text-slate-600 bg-black/40 text-sm">
        <p>Grokking Algorithms - Week 3</p>
    </footer>

    <script>
        AOS.init({ duration: 800, once: true });
        const bars = document.getElementById('bars'), info = document.getElementById('info'), logEl = document.getElementById('log');
        let arr = [], steps = [], step = 0, running = false, orig = [];

        function gen(n = 10) { arr = Array.from({ length: n }, () => Math.floor(Math.random() * 90) + 10); orig = [...arr]; steps = []; step = 0; render() }
        function render(piv = -1, cmp = -1, swap = [], sorted = []) { const mx = Math.max(...arr); bars.innerHTML = ''; arr.forEach((v, i) => { const b = document.createElement('div'); b.className = 'bar' + (sorted.includes(i) ? ' sorted' : i === piv ? ' pivot' : swap.includes(i) ? ' swapping' : i === cmp ? ' comparing' : ' default'); b.style.height = `${(v / mx) * 180}px`; b.innerHTML = `<span class="val">${v}</span>`; bars.appendChild(b) }) }
        function genSteps(a) { steps = []; const s = []; function qs(lo, hi) { if (lo >= hi) { if (lo === hi) s.push(lo); return } const piv = getPivot(a, lo, hi);[a[piv], a[hi]] = [a[hi], a[piv]]; steps.push({ arr: [...a], piv: hi, msg: `Pivot=${a[hi]}` }); let i = lo - 1; for (let j = lo; j < hi; j++) { steps.push({ arr: [...a], piv: hi, cmp: j, msg: `Compare ${a[j]} with ${a[hi]}` }); if (a[j] < a[hi]) { i++; if (i !== j) { [a[i], a[j]] = [a[j], a[i]]; steps.push({ arr: [...a], piv: hi, swap: [i, j], msg: `Swap` }) } } } [a[i + 1], a[hi]] = [a[hi], a[i + 1]]; s.push(i + 1); steps.push({ arr: [...a], sorted: [...s], msg: `Pivot placed at ${i + 1}` }); qs(lo, i); qs(i + 2, hi) } qs(0, a.length - 1); steps.push({ arr: [...a], sorted: a.map((_, i) => i), msg: 'Done! âœ“' }) }
        function getPivot(a, lo, hi) { const s = document.getElementById('pivot-strategy').value; return s === 'first' ? lo : s === 'random' ? lo + Math.floor(Math.random() * (hi - lo + 1)) : hi }
        function show(i) { const st = steps[i]; arr = [...st.arr]; render(st.piv, st.cmp, st.swap || [], st.sorted || []); info.innerHTML = `<p class="text-white">${st.msg}</p>`; log(st.msg, st.sorted ? 'success' : 'info') }
        async function run() { running = true; while (step < steps.length && running) { show(step); step++; await new Promise(r => setTimeout(r, +document.getElementById('speed').value)) } running = false }
        function log(m, t = 'info') { const p = document.createElement('p'); p.textContent = m; p.className = t === 'success' ? 'text-emerald-400' : 'text-blue-400'; logEl.prepend(p); while (logEl.children.length > 8) logEl.removeChild(logEl.lastChild) }

        document.getElementById('random-btn').onclick = () => { running = false; gen(); log('New array', 'info') };
        document.getElementById('sort-btn').onclick = () => { if (running) return; arr = [...orig]; genSteps([...arr]); step = 0; run() };
        document.getElementById('step-btn').onclick = () => { running = false; if (!steps.length) genSteps([...orig]); if (step < steps.length) { show(step); step++ } };
        document.getElementById('reset-btn').onclick = () => { running = false; arr = [...orig]; steps = []; step = 0; render(); info.innerHTML = '<p class="text-slate-400">Reset.</p>'; log('Reset', 'info') };
        gen();
    </script>
</body>

</html>